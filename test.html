<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <title>Bridge - Simple Example</title>
    <script language="Javascript" src="build/output.js"></script>
    <link type="text/css" rel="stylesheet" href="material.css"/>
    <link type="text/css" rel="stylesheet" href="style.css"/>
</head>
<body>

<!--<table id="persons" control="Table"  style="border:1px solid red;"><tr><th>#</th></tr><tr><td>1</td></tr></table>-->
<table id="persons" control="Table" style="border:1px solid red;">
    <thead>
    <tr>
        <th>room</th>
        <th>day</th>
        <th>talk</th>
        <th>state</th>
    </tr>
    </thead>
</table>

<input control="Input" id="t1talk" property="t1.talk" type="text" value="01. Meier" oncontextmenu="alert('t1.talk');">

<script>
    //var bridge = new Bridge();
    bridge.load({control: "table", class: "talk", columns: [{id: 'room'}, {id: 'day'}, {id: 'talk'}, {id: 'state'}]});
    bridge.load("persons");

    bridge.load("t1talk");
    bridge.load({control: "input", class: "talk", id: "t2.talk", property: "t2.talk", type: "text"});
    // for debugging purpose:
    document.getElementById("t2.talk").setAttribute("oncontextmenu", "alert('t2.talk');");


    bridge.executeChange({
        id: "t1",
        class: "talk",
        property: {
            room: "Heyl",
            day: "Monday",
            talk: "01. Meier",
            state: "ok",
            comment: "",
            no: "",
            slides: "",
            html: "",
            Author: "",
            "Peer Info": "",
            Explorer: "Explorer"
        }
    });
    bridge.executeChange({id: "t1", upd: {talk: "01. Schulze"}});
    bridge.executeChange({id: "r2", class: "room", property: {name: "Heyl"}});
    bridge.executeChange({
        id: "t2",
        class: "talk",
        property: {
            room: "Heyl",
            day: "Monday",
            talk: "02. Schmidt",
            state: "ok",
            comment: "",
            no: "",
            slides: "",
            html: "",
            Author: "",
            "Peer Info": "",
            Explorer: "Explorer"
        }
    });

    // change property of input field:
    var t1talk = document.getElementById("t1talk");
    t1talk.setAttribute("property", "t2.room");
</script>
</body>

