<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Bridge - Simple Example</title>
	<script language="Javascript" src="../build/output.js"></script>
	<script language="Javascript" src="../demo/dagre.min.js"></script>
	<link type="text/css" rel="stylesheet" href="../material.css" />
	<link type="text/css" rel="stylesheet" href="../style.css" />
</head>
<body>
<script>
//var bridge = new Bridge();
var table = bridge.load({class:"table", property:"talk", columns:[{id:'room'}, {id:'day'}, {id:'talk'},  {id:'state'}], searchColumns:["day", "talk"]});
console.log(table.id);
//bridge.load("persons");

bridge.load({id:"t1", class:"talk", prop:{room:"Heyl", day:"Monday",talk: "01. Meier", state:"ok", comment:"", no:"", slides:"1", html:"", Author: "", "Peer Info": "", Explorer: "Explorer"}});
bridge.load({id:"t1", upd:{talk: "01. Schulze"}});
bridge.load({id:"r2", class:"room", prop:{name:"Heyl"}});
bridge.load({id:"t2", class:"talk", prop:{room:"Heyl", day:"Monday",talk: "02. Schmidt", state:"ok", comment:"", no:"", slides:"2", html:"", Author: "", "Peer Info": "", Explorer: "Explorer"}});
bridge.addToolbar();

bridge.load({id:table.id, columns:[{id:'slides'}]});






var data = {
	  type: 'clazzdiagram',
	  nodes: [
	    {
	      type: 'clazz',
	      name: 'User',
	      attributes: [ '+ name : string', '+ address : string', '- id : int'],
	      methods: [ '+ register()', '+ login()' ]
	    },
	    {
	      type: 'clazz',
	      name: 'Order',
	      attributes: [ '+ status : string', '+ date : string', '- orderId : int'],
	      methods: [ '+ place()', '+ cancel()', '+ refund()']
	    },
	    {
	      type: 'clazz',
	      name: 'Account',
	      attributes: [ '- id : int']
	    },
	    {
	      type: 'clazz',
	      name: 'Product',
	      attributes: [ '+ name : string', '+ description : string', '+ photo : string', '- id : int'],
	      methods: [ '+ addToOrder()' ]
	    },
	    {
	      type: 'clazz',
	      name: 'Payment',
	      attributes: [ '+ provider : string', '+ amount : string' ],
	      methods: [ '+ getStatus()' ]
	    }
	  ],
	  edges: [
	    { type: 'edge', source: 'Order', target: 'Product' },
	    { type: 'edge', source: 'User', target: 'Order' },
	    { type: 'edge', source: 'User', target: 'Account' },
	    { type: 'edge', source: 'Order', target: 'Payment' },
	    { type: 'edge', source: 'Payment', target: 'Account' }
	  ]
	};

	var options = {
	  canvas: 'canvas',
	  origin: new Point(150, 45),
	  features: {
	    drag: true,
	    editor: true,
	    palette: true,
	    select: true,
	    zoom: true
	  }
	};

bridge.load({class:"Graph", data:data, options:options}); 


Snowflower = function() {
};

Snowflower.prototype.getSVG = function(){
	return document.create("rect", "svg/xml");
}

Snowflower.prototype.getEvents= function(){
	return ["element.click", "element.move"];
}

Snowflower.prototype.fireEvent= function(eventType, data) {
	var text = owner.fireEvent("openTextField");
}

Snowflower.prototype.onClick = function(){};

bridge.addControl(new Snowflower());



//elements.controls.Snowflower = function() {};
//elements.controls.Snowflower.prototype.getSVG = function() {
//	return document.create("rect", "svg/xml");
//}


//new Table()
</script>
</body>

